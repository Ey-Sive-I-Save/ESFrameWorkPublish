# ES æ¡†æ¶ä¸å•†ä¸šåŒ–æ¡†æ¶å·®è·åˆ†æ

> **å¯¹æ¯”ç»´åº¦**ï¼šåŠŸèƒ½å®Œæ•´åº¦ã€æ€§èƒ½è¡¨ç°ã€æ˜“ç”¨æ€§ã€ç¤¾åŒºæ”¯æŒã€æ–‡æ¡£è´¨é‡  
> **å¯¹æ¯”æ¡†æ¶**ï¼šFairyGUI (UI)ã€ET (ç½‘ç»œ)ã€Playable (åŠ¨ç”»)ã€Addressable (èµ„æº)ã€Havok (ç‰©ç†)  
> **è¯„ä¼°æ–¹æ³•**ï¼šé€é¡¹ç‰¹æ€§å¯¹æ¯” + å®é™…é¡¹ç›®åº”ç”¨åœºæ™¯åˆ†æ

---

## ä¸€ã€UI ç³»ç»Ÿï¼šES UIFramework vs FairyGUI

### 1.1 FairyGUI æ ¸å¿ƒä¼˜åŠ¿

| ç‰¹æ€§ | FairyGUI | ES UIFramework | å·®è· |
|------|----------|----------------|------|
| **æ‰€è§å³æ‰€å¾—ç¼–è¾‘å™¨** | â­â­â­â­â­ | â­â­ (ä¾èµ– Unity ç¼–è¾‘å™¨) | ğŸ”´ **ä¸¥é‡å·®è·** |
| **åˆ†è¾¨ç‡é€‚é…** | â­â­â­â­â­ (å¤šç§é€‚é…æ¨¡å¼) | â­â­â­ (åŸºç¡€é€‚é…) | ğŸŸ  |
| **å¤šè¯­è¨€æ”¯æŒ** | â­â­â­â­â­ (å†…ç½®) | â­â­ (éœ€æ‰‹åŠ¨å®ç°) | ğŸŸ  |
| **åŠ¨ç”»ç³»ç»Ÿ** | â­â­â­â­â­ (Transition) | â­â­â­ (DOTweené›†æˆ) | ğŸŸ¡ |
| **ç²’å­ç‰¹æ•ˆ** | â­â­â­â­â­ (å†…ç½®ç²’å­ç¼–è¾‘å™¨) | â­â­ (ä½¿ç”¨Unityç²’å­) | ğŸŸ  |
| **è™šæ‹Ÿåˆ—è¡¨** | â­â­â­â­â­ (é«˜æ€§èƒ½,æ”¯æŒ10ä¸‡+é¡¹) | â­â­â­ (åŸºç¡€å®ç°) | ğŸŸ  |
| **æ··åˆæ¸²æŸ“** | â­â­â­â­â­ (UIä¸3Dæ— ç¼æ··åˆ) | â­â­ (ä¾èµ–RenderTexture) | ğŸŸ  |

**FairyGUI æ€æ‰‹é”åŠŸèƒ½**ï¼š
1. **å¯è§†åŒ–ç¼–è¾‘å™¨**ï¼š
   - éç¨‹åºå‘˜å¯ç‹¬ç«‹åˆ¶ä½œå®Œæ•´UI
   - å®æ—¶é¢„è§ˆå¤šç§åˆ†è¾¨ç‡é€‚é…æ•ˆæœ
   - ç»„ä»¶åº“+æ¨¡æ¿ç³»ç»Ÿ

2. **è¶…é«˜æ€§èƒ½æ¸²æŸ“**ï¼š
   - è‡ªåŠ¨åˆå¹¶DrawCallï¼ˆæ— éœ€æ‰‹åŠ¨å›¾é›†ï¼‰
   - è„çŸ©é˜µæ›´æ–°ï¼ˆåªé‡ç»˜å˜åŒ–åŒºåŸŸï¼‰
   - æ”¯æŒæ•°ä¸‡UIå…ƒç´ åŒå±

3. **ä¸°å¯Œçš„ç»„ä»¶åº“**ï¼š
   - å†…ç½®50+ç»„ä»¶ï¼ˆè¿›åº¦æ¡ã€æ»‘å—ã€æ›²çº¿ç¼–è¾‘å™¨ã€å¯Œæ–‡æœ¬ã€åœ†å½¢å¤´åƒã€çº¢ç‚¹ç³»ç»Ÿç­‰ï¼‰

**ES UIFramework å½“å‰çŠ¶æ€**ï¼š
- âœ… æœ‰åŸºç¡€çš„ UIModule/UIHosting æ¶æ„
- âœ… ä¸ ResLibrary é›†æˆè‰¯å¥½
- âŒ æ— ç‹¬ç«‹çš„UIç¼–è¾‘å™¨
- âŒ æ— è™šæ‹Ÿåˆ—è¡¨é«˜æ€§èƒ½å®ç°
- âŒ ç¼ºå°‘å¤æ‚ç»„ä»¶ï¼ˆå¦‚èŠå¤©æ¡†ã€èƒŒåŒ…ç½‘æ ¼ã€æŠ€èƒ½æ ‘ï¼‰

---

### 1.2 æ”¹è¿›å»ºè®®

**çŸ­æœŸï¼ˆ1ä¸ªæœˆï¼‰**ï¼š
```csharp
// ä¼˜å…ˆå®ç°é«˜é¢‘ä½¿ç”¨çš„ç»„ä»¶
public class ESVirtualList : MonoBehaviour
{
    public GameObject itemPrefab;
    public int totalItemCount;
    private List<GameObject> visibleItems = new();
    
    void Update()
    {
        // è§†å£è£å‰ªï¼šåªå®ä¾‹åŒ–å¯è§çš„Item
        int startIndex = CalculateFirstVisibleIndex();
        int endIndex = CalculateLastVisibleIndex();
        
        // å¤ç”¨æ± åŒ–Item
        RecycleItemsOutOfView();
        CreateVisibleItems(startIndex, endIndex);
    }
}
```

**ä¸­æœŸï¼ˆ3ä¸ªæœˆï¼‰**ï¼š
- å¼€å‘ç®€æ˜“çš„ UI Layout ç¼–è¾‘å™¨ï¼ˆåŸºäº Unity UIElementsï¼‰
- å®ç°è‡ªåŠ¨ DrawCall åˆæ‰¹ï¼ˆä½¿ç”¨ Mesh åˆå¹¶ï¼‰
- å†…ç½®20+å¸¸ç”¨ç»„ä»¶

**é•¿æœŸï¼ˆ6ä¸ªæœˆï¼‰**ï¼š
- è€ƒè™‘é›†æˆ FairyGUIï¼ˆä½œä¸ºå¯é€‰æ¨¡å—ï¼‰
- æˆ–å¼€å‘ WebGL-based çš„ç‹¬ç«‹ç¼–è¾‘å™¨

---

## äºŒã€ç½‘ç»œç³»ç»Ÿï¼šES Network vs ET Framework

### 2.1 ET Framework æ ¸å¿ƒæ¶æ„

| ç‰¹æ€§ | ET Framework | ES Network | å·®è· |
|------|--------------|------------|------|
| **åŒç«¯å…±äº«ä»£ç ** | â­â­â­â­â­ (å®¢æˆ·ç«¯/æœåŠ¡å™¨å…±ç”¨) | âŒ æœªå®ç° | ğŸ”´ **å…³é”®ç¼ºå¤±** |
| **Actor æ¨¡å‹** | â­â­â­â­â­ (Mailboxæ¶ˆæ¯é˜Ÿåˆ—) | âŒ | ğŸ”´ |
| **çƒ­é‡è½½** | â­â­â­â­â­ (ä»£ç /é…ç½®çƒ­æ›´) | â­â­ (ä»…é…ç½®çƒ­æ›´) | ğŸŸ  |
| **å¸§åŒæ­¥** | â­â­â­â­â­ (å†…ç½®) | âŒ | ğŸ”´ |
| **çŠ¶æ€åŒæ­¥** | â­â­â­â­â­ (è‡ªåŠ¨åºåˆ—åŒ–) | â­â­â­ (æ‰‹åŠ¨å®ç°) | ğŸŸ  |
| **æ•°æ®åº“é›†æˆ** | â­â­â­â­â­ (MongoDB) | âŒ | ğŸ”´ |

**ET Framework è®¾è®¡å“²å­¦**ï¼š
- **ECSæ¶æ„**ï¼šEntity-Component-Systemï¼Œæè‡´çš„æ€§èƒ½ä¸çµæ´»æ€§
- **å…¨æ ˆè§£å†³æ–¹æ¡ˆ**ï¼šæœåŠ¡å™¨+å®¢æˆ·ç«¯+çƒ­æ›´æ–°+é…ç½®ç®¡ç†
- **Actor å¹¶å‘æ¨¡å‹**ï¼šæ¯ä¸ªç©å®¶æ˜¯ç‹¬ç«‹çš„ Actorï¼Œæ¶ˆæ¯é˜Ÿåˆ—é¿å…é”ç«äº‰

**ES Network å½“å‰çŠ¶æ€**ï¼š
- âŒ æœªå‘ç°ç‹¬ç«‹çš„ç½‘ç»œå±‚
- âš ï¸ ä¾èµ– Link ç³»ç»Ÿåšæœ¬åœ°æ¶ˆæ¯åˆ†å‘ï¼ˆä¸é€‚åˆç½‘ç»œé€šä¿¡ï¼‰
- âŒ æ— çŠ¶æ€åŒæ­¥æœºåˆ¶
- âŒ æ— æœåŠ¡å™¨ç«¯æ”¯æŒ

---

### 2.2 æ”¹è¿›å»ºè®®

**çŸ­æœŸï¼ˆ2ä¸ªæœˆï¼‰**ï¼š
```csharp
/// <summary>
/// åŸºç¡€ç½‘ç»œæ¶ˆæ¯ç³»ç»Ÿï¼šåŸºäº Link æ‰©å±•
/// </summary>
public class ESNetworkLink
{
    private TcpClient client;
    
    /// <summary>
    /// å‘é€ç½‘ç»œæ¶ˆæ¯
    /// </summary>
    public void SendToServer<TMessage>(TMessage msg) where TMessage : INetworkMessage
    {
        var bytes = SerializeMessage(msg);
        client.GetStream().Write(bytes, 0, bytes.Length);
    }
    
    /// <summary>
    /// æ¥æ”¶ç½‘ç»œæ¶ˆæ¯å¹¶è½¬å‘åˆ° Link ç³»ç»Ÿ
    /// </summary>
    private void OnReceiveMessage(byte[] data)
    {
        var msg = DeserializeMessage(data);
        LinkPool.SendLink(msg); // å¤ç”¨ç°æœ‰ Link æœºåˆ¶
    }
}
```

**ä¸­æœŸï¼ˆ6ä¸ªæœˆï¼‰**ï¼š
- å®ç°çŠ¶æ€åŒæ­¥æ¡†æ¶ï¼ˆDelta Compressionï¼‰
- å¼€å‘ç®€æ˜“çš„ Actor æ¨¡å‹ï¼ˆåŸºäº Hosting/Moduleï¼‰

**é•¿æœŸï¼ˆ1å¹´ï¼‰**ï¼š
- å‚è€ƒ ET æ¶æ„è®¾è®¡å…¨æ ˆè§£å†³æ–¹æ¡ˆ
- æˆ–ç›´æ¥é›†æˆ ET Framework ä½œä¸ºç½‘ç»œå±‚

---

## ä¸‰ã€åŠ¨ç”»ç³»ç»Ÿï¼šES Animation vs Playable API

### 3.1 Playable API æ ¸å¿ƒä¼˜åŠ¿

| ç‰¹æ€§ | Playable API | ES Animation | å·®è· |
|------|--------------|--------------|------|
| **åŠ¨ç”»æ··åˆ** | â­â­â­â­â­ (ä»»æ„å±‚çº§æ··åˆ) | â­â­â­ (Animator Controller) | ğŸŸ¡ |
| **åŠ¨æ€æƒé‡** | â­â­â­â­â­ (è¿è¡Œæ—¶è°ƒæ•´) | â­â­â­ (é€šè¿‡Layeræƒé‡) | ğŸŸ¡ |
| **ç¨‹åºåŒ–åŠ¨ç”»** | â­â­â­â­â­ (IKã€ç‰©ç†é©±åŠ¨) | â­â­ (éœ€æ‰‹åŠ¨å®ç°) | ğŸŸ  |
| **åŠ¨ç”»äº‹ä»¶** | â­â­â­â­â­ (ç²¾ç¡®åˆ°å¸§) | â­â­â­ (Animation Event) | ğŸŸ¡ |
| **æ€§èƒ½** | â­â­â­â­â­ (é›¶GC) | â­â­â­â­ (ä¾èµ–Animator) | ğŸŸ¡ |

**Playable API å…¸å‹åº”ç”¨**ï¼š
1. **å¤æ‚åŠ¨ç”»æ··åˆ**ï¼š
   - ä¸ŠåŠèº«æ”»å‡» + ä¸‹åŠèº«ç§»åŠ¨
   - æªæ¢°åååŠ› + è§’è‰²åŠ¨ä½œ
   - IKï¼ˆæ‰‹è‡‚æŒ‡å‘ç›®æ ‡ï¼‰+ é¢„åˆ¶åŠ¨ç”»

2. **åŠ¨æ€ç”ŸæˆåŠ¨ç”»å›¾**ï¼š
   ```csharp
   var graph = PlayableGraph.Create();
   var mixerPlayable = AnimationMixerPlayable.Create(graph, 2);
   
   // åŠ¨æ€æ·»åŠ åŠ¨ç”»
   var clip1 = AnimationClipPlayable.Create(graph, walkClip);
   var clip2 = AnimationClipPlayable.Create(graph, runClip);
   
   graph.Connect(clip1, 0, mixerPlayable, 0);
   graph.Connect(clip2, 0, mixerPlayable, 1);
   
   // è¿è¡Œæ—¶è°ƒæ•´æƒé‡
   mixerPlayable.SetInputWeight(0, 0.3f); // 30% walk
   mixerPlayable.SetInputWeight(1, 0.7f); // 70% run
   ```

**ES Animation å½“å‰çŠ¶æ€**ï¼š
- âœ… ä¾èµ– Unity Animatorï¼ˆæˆç†Ÿç¨³å®šï¼‰
- âŒ æ— é«˜çº§åŠ¨ç”»æ··åˆå·¥å…·
- âŒ æ— ç¨‹åºåŒ–åŠ¨ç”»æ”¯æŒ

---

### 3.2 æ”¹è¿›å»ºè®®

**çŸ­æœŸï¼ˆ1ä¸ªæœˆï¼‰**ï¼š
```csharp
/// <summary>
/// ç®€æ˜“ Playable å°è£…
/// </summary>
public class ESAnimationMixer : MonoBehaviour
{
    private PlayableGraph graph;
    private AnimationMixerPlayable mixer;
    
    public void AddClip(AnimationClip clip, float weight)
    {
        var clipPlayable = AnimationClipPlayable.Create(graph, clip);
        int inputIndex = mixer.GetInputCount();
        graph.Connect(clipPlayable, 0, mixer, inputIndex);
        mixer.SetInputWeight(inputIndex, weight);
    }
}
```

**ä¸­æœŸï¼ˆ3ä¸ªæœˆï¼‰**ï¼š
- å®ç° IK ç³»ç»Ÿï¼ˆLookAt, AimAt, FootIKï¼‰
- å¼€å‘åŠ¨ç”»çŠ¶æ€æœºå¯è§†åŒ–ç¼–è¾‘å™¨ï¼ˆåŸºäº Playableï¼‰

**é•¿æœŸï¼ˆ6ä¸ªæœˆï¼‰**ï¼š
- å®Œæ•´çš„ Playable Graph å¯è§†åŒ–å·¥å…·
- ç‰©ç†é©±åŠ¨åŠ¨ç”»ï¼ˆRagdoll + Animation æ··åˆï¼‰

---

## å››ã€èµ„æºç®¡ç†ï¼šES ResLibrary vs Addressable

### 4.1 Addressable æ ¸å¿ƒä¼˜åŠ¿

| ç‰¹æ€§ | Addressable | ES ResLibrary | å·®è· |
|------|-------------|---------------|------|
| **è¿œç¨‹èµ„æº** | â­â­â­â­â­ (CDNæ”¯æŒ) | â­â­ (éœ€æ‰‹åŠ¨å®ç°) | ğŸŸ  |
| **èµ„æºä¾èµ–ç®¡ç†** | â­â­â­â­â­ (è‡ªåŠ¨è§£æ) | â­â­â­ (ResBookæ ‘å½¢ç»“æ„) | ğŸŸ¡ |
| **å¼‚æ­¥åŠ è½½** | â­â­â­â­â­ (Task-based) | â­â­â­ (Coroutine) | ğŸŸ¡ |
| **å¼•ç”¨è®¡æ•°** | â­â­â­â­â­ (è‡ªåŠ¨) | âŒ | ğŸ”´ **å…³é”®ç¼ºå¤±** |
| **èµ„æºåˆ†ç»„** | â­â­â­â­â­ (Label System) | â­â­â­ (Library/Book/Page) | ğŸŸ¡ |
| **å†…å­˜ç®¡ç†** | â­â­â­â­â­ (è‡ªåŠ¨å¸è½½) | âš ï¸ (æ‰‹åŠ¨UnloadRes) | ğŸŸ  |

**Addressable æ€æ‰‹é”**ï¼š
1. **å¼•ç”¨è®¡æ•°è‡ªåŠ¨å¸è½½**ï¼š
   ```csharp
   var handle = Addressables.LoadAssetAsync<GameObject>("Character");
   await handle.Task;
   var instance = Instantiate(handle.Result);
   
   // é‡Šæ”¾å¼•ç”¨ï¼šè‡ªåŠ¨åˆ¤æ–­æ˜¯å¦å¸è½½AB
   Addressables.Release(handle);
   ```

2. **è¿œç¨‹çƒ­æ›´æ–°**ï¼š
   - è‡ªåŠ¨ä¸‹è½½æ›´æ–°çš„èµ„æºåŒ…
   - æ”¯æŒå¢é‡æ›´æ–°ï¼ˆåªä¸‹è½½å˜åŒ–çš„æ–‡ä»¶ï¼‰
   - CDN åŠ é€Ÿ

3. **åˆ†æå·¥å…·**ï¼š
   - Addressable Analyze Toolï¼ˆæ£€æµ‹å†—ä½™ã€ä¾èµ–å…³ç³»ï¼‰
   - Event Viewerï¼ˆè¿è¡Œæ—¶èµ„æºåŠ è½½è¿½è¸ªï¼‰

**ES ResLibrary å½“å‰çŠ¶æ€**ï¼š
- âœ… Library â†’ Book â†’ Page ä¸‰çº§ç»“æ„æ¸…æ™°
- âœ… ä¸ AssetBundle é›†æˆ
- âŒ æ— å¼•ç”¨è®¡æ•°ï¼ˆå†…å­˜æ³„æ¼é£é™©ï¼‰
- âŒ UnloadRes è¯­ä¹‰ä¸æ¸…ï¼ˆGameObject å¦‚ä½•å¤„ç†ï¼Ÿï¼‰
- âŒ æ— è¿œç¨‹æ›´æ–°æ”¯æŒ

---

### 4.2 æ”¹è¿›å»ºè®®ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

**çŸ­æœŸï¼ˆ2å‘¨ï¼‰**ï¼š
```csharp
/// <summary>
/// ä¸º ResLibrary æ·»åŠ å¼•ç”¨è®¡æ•°
/// </summary>
public class ESResRefCounter
{
    private Dictionary<string, int> refCounts = new();
    private Dictionary<string, UnityEngine.Object> loadedAssets = new();
    
    public T Retain<T>(string assetPath) where T : UnityEngine.Object
    {
        if (!loadedAssets.ContainsKey(assetPath))
        {
            // é¦–æ¬¡åŠ è½½
            loadedAssets[assetPath] = ResLibrary.LoadAsset<T>(assetPath);
            refCounts[assetPath] = 1;
        }
        else
        {
            refCounts[assetPath]++;
        }
        
        return loadedAssets[assetPath] as T;
    }
    
    public void Release(string assetPath)
    {
        if (!refCounts.ContainsKey(assetPath))
            return;
        
        refCounts[assetPath]--;
        if (refCounts[assetPath] <= 0)
        {
            // çœŸæ­£å¸è½½
            ResLibrary.UnloadAsset(assetPath);
            loadedAssets.Remove(assetPath);
            refCounts.Remove(assetPath);
        }
    }
}
```

**ä¸­æœŸï¼ˆ1ä¸ªæœˆï¼‰**ï¼š
- å®ç°è¿œç¨‹ AssetBundle ä¸‹è½½ï¼ˆHTTP + æ–­ç‚¹ç»­ä¼ ï¼‰
- å¼€å‘ Manifest å·®åˆ†æ›´æ–°ç³»ç»Ÿ

**é•¿æœŸï¼ˆ3ä¸ªæœˆï¼‰**ï¼š
- å¼€å‘ç±»ä¼¼ Addressable Analyze çš„åˆ†æå·¥å…·
- å¯è§†åŒ–èµ„æºä¾èµ–å›¾

---

## äº”ã€ç‰©ç†ç³»ç»Ÿï¼šES Physics vs Havok

### 5.1 Havok æ ¸å¿ƒä¼˜åŠ¿

| ç‰¹æ€§ | Havok | Unity PhysX (ESä½¿ç”¨) | å·®è· |
|------|-------|----------------------|------|
| **æ€§èƒ½** | â­â­â­â­â­ (å¤šçº¿ç¨‹ä¼˜åŒ–) | â­â­â­â­ | ğŸŸ¡ |
| **ç²¾åº¦** | â­â­â­â­â­ (å¯é¢„æµ‹) | â­â­â­â­ | ğŸŸ¡ |
| **ç ´åç³»ç»Ÿ** | â­â­â­â­â­ (å®æ—¶ç ´ç¢) | â­â­ (éœ€æ‰‹åŠ¨å®ç°) | ğŸŸ  |
| **å¸ƒæ–™æ¨¡æ‹Ÿ** | â­â­â­â­â­ (é«˜æ€§èƒ½) | â­â­â­ (Unity Cloth) | ğŸŸ¡ |
| **è½½å…·ç‰©ç†** | â­â­â­â­â­ (ä¸“ä¸š) | â­â­â­ (WheelCollider) | ğŸŸ¡ |

**Havok åº”ç”¨åœºæ™¯**ï¼š
- 3Aæ¸¸æˆçš„å¤§è§„æ¨¡ç‰©ç†æ¨¡æ‹Ÿï¼ˆå¦‚æˆ˜åœ°ã€ä½¿å‘½å¬å”¤ï¼‰
- éœ€è¦ç¡®å®šæ€§ç‰©ç†ï¼ˆç½‘ç»œåŒæ­¥ã€å½•åƒå›æ”¾ï¼‰
- å¤æ‚çš„ç ´åæ•ˆæœï¼ˆå»ºç­‘å€’å¡Œã€è½½å…·çˆ†ç‚¸ï¼‰

**ES ç‰©ç†ç³»ç»Ÿå½“å‰çŠ¶æ€**ï¼š
- âœ… ä½¿ç”¨ Unity å†…ç½® PhysXï¼ˆæˆç†Ÿç¨³å®šï¼‰
- âŒ æ—  Havok çº§åˆ«çš„é«˜çº§ç‰¹æ€§
- âš ï¸ å¯¹äºå¤§å¤šæ•°é¡¹ç›®ï¼ŒUnity PhysX å·²è¶³å¤Ÿ

---

### 5.2 æ”¹è¿›å»ºè®®ï¼ˆä½ä¼˜å…ˆçº§ï¼‰

**çŸ­æœŸ**ï¼šä¿æŒä½¿ç”¨ Unity PhysXï¼Œæ— éœ€æ”¹åŠ¨

**ä¸­æœŸ**ï¼šå¦‚æœé¡¹ç›®éœ€è¦å¤§è§„æ¨¡ç‰©ç†æ¨¡æ‹Ÿï¼Œè€ƒè™‘ï¼š
- Unity DOTS Physicsï¼ˆé«˜æ€§èƒ½ï¼ŒECSæ¶æ„ï¼‰
- Havok Physics for Unityï¼ˆéœ€è¦æˆæƒï¼‰

**é•¿æœŸ**ï¼šå¼€å‘ç‰©ç†è¾…åŠ©å·¥å…·ï¼š
- ç‰©ç†æè´¨ç¼–è¾‘å™¨ï¼ˆæ‘©æ“¦åŠ›ã€å¼¹æ€§ç³»æ•°å¯è§†åŒ–è°ƒæ•´ï¼‰
- ç¢°æ’æ£€æµ‹å¯è§†åŒ–ï¼ˆDebugç»˜åˆ¶ç¢°æ’ä½“ï¼‰

---

## å…­ã€æ€»ä½“å·®è·è¯„ä¼°

### 6.1 å…³é”®å·®è·æ±‡æ€»

| ç³»ç»Ÿ | P0 ç¼ºå¤±åŠŸèƒ½ | P1 æ”¹è¿›ç‚¹ | è¿½èµ¶éš¾åº¦ |
|------|------------|----------|---------|
| **UI** | å¯è§†åŒ–ç¼–è¾‘å™¨ | è™šæ‹Ÿåˆ—è¡¨ã€DrawCallä¼˜åŒ– | ğŸ”´ é«˜ï¼ˆ6ä¸ªæœˆ+ï¼‰ |
| **Network** | æ•´ä¸ªç½‘ç»œå±‚ | çŠ¶æ€åŒæ­¥ã€Actoræ¨¡å‹ | ğŸ”´ æé«˜ï¼ˆ1å¹´+ï¼‰ |
| **Animation** | - | Playableå°è£…ã€IK | ğŸŸ¡ ä¸­ï¼ˆ3ä¸ªæœˆï¼‰ |
| **Resource** | å¼•ç”¨è®¡æ•° | è¿œç¨‹æ›´æ–°ã€åˆ†æå·¥å…· | ğŸŸ  ä¸­é«˜ï¼ˆ4ä¸ªæœˆï¼‰ |
| **Physics** | - | é«˜çº§å·¥å…· | ğŸŸ¢ ä½ï¼ˆå¯é€‰ï¼‰ |

---

### 6.2 ä¼˜å…ˆæ”¹è¿›è·¯çº¿

**Phase 1 - ç´§æ€¥ä¿®å¤ï¼ˆ1ä¸ªæœˆå†…ï¼‰**
1. **Resource å¼•ç”¨è®¡æ•°**ï¼ˆP0ï¼‰
   - é¿å…å†…å­˜æ³„æ¼
   - å®ç° Retain/Release API

2. **UI è™šæ‹Ÿåˆ—è¡¨**ï¼ˆP1ï¼‰
   - æ”¯æŒå¤§æ•°æ®é‡åˆ—è¡¨ï¼ˆèƒŒåŒ…ã€æ’è¡Œæ¦œï¼‰
   - æ± åŒ–å¤ç”¨Item

**Phase 2 - æ ¸å¿ƒèƒ½åŠ›ï¼ˆ3ä¸ªæœˆå†…ï¼‰**
3. **åŸºç¡€ç½‘ç»œå±‚**ï¼ˆP0ï¼‰
   - TCP/UDP é€šä¿¡å°è£…
   - æ¶ˆæ¯åºåˆ—åŒ–ï¼ˆProtobuf/MessagePackï¼‰

4. **Animation Playable å°è£…**ï¼ˆP1ï¼‰
   - ç®€åŒ–åŠ¨ç”»æ··åˆ
   - IK ç³»ç»Ÿ

**Phase 3 - ç”Ÿäº§åŠ›å·¥å…·ï¼ˆ6ä¸ªæœˆå†…ï¼‰**
5. **UI ç¼–è¾‘å™¨**ï¼ˆP1ï¼‰
   - ç®€æ˜“çš„ Layout å·¥å…·
   - ç»„ä»¶åº“æ‰©å±•

6. **Resource åˆ†æå·¥å…·**ï¼ˆP1ï¼‰
   - ä¾èµ–å…³ç³»å¯è§†åŒ–
   - å†—ä½™æ£€æµ‹

**Phase 4 - é«˜çº§ç‰¹æ€§ï¼ˆ1å¹´å†…ï¼‰**
7. **ç½‘ç»œçŠ¶æ€åŒæ­¥**ï¼ˆP0ï¼‰
   - å¿«ç…§æ’å€¼
   - å®¢æˆ·ç«¯é¢„æµ‹

8. **è¿œç¨‹èµ„æºæ›´æ–°**ï¼ˆP1ï¼‰
   - CDN é›†æˆ
   - å¢é‡æ›´æ–°

---

## ä¸ƒã€ä¸ºä½•å·®è·å­˜åœ¨ï¼Ÿ

### 7.1 èµ„æºæŠ•å…¥å·®å¼‚

| æ¡†æ¶ | å›¢é˜Ÿè§„æ¨¡ | å¼€å‘æ—¶é—´ | å•†ä¸šåŒ–ç¨‹åº¦ |
|------|---------|---------|-----------|
| FairyGUI | 10+ äºº | 5+ å¹´ | ä»˜è´¹å•†ä¸šäº§å“ |
| ET Framework | 50+ è´¡çŒ®è€… | 6+ å¹´ | å¼€æº + ä»˜è´¹å’¨è¯¢ |
| Addressable | Unity å®˜æ–¹ | - | å®˜æ–¹æ ‡å‡† |
| ES Framework | ~1-2 äºº | ~2 å¹´ï¼ˆæ¨æµ‹ï¼‰ | å†…éƒ¨å·¥å…· |

**ç»“è®º**ï¼šES ä½œä¸ºä¸ªäºº/å°å›¢é˜Ÿæ¡†æ¶ï¼Œå·²å®ç°æ ¸å¿ƒæ¶æ„ï¼ˆModule/Hosting/Link/Resï¼‰ï¼Œä½†åœ¨å·¥å…·é“¾å’Œé«˜çº§ç‰¹æ€§ä¸Šä¸å•†ä¸šæ¡†æ¶æœ‰æ˜¾è‘—å·®è·ã€‚

---

### 7.2 è®¾è®¡ç›®æ ‡å·®å¼‚

**å•†ä¸šæ¡†æ¶è®¾è®¡ç›®æ ‡**ï¼š
- é€šç”¨æ€§ï¼ˆé€‚é…æ‰€æœ‰æ¸¸æˆç±»å‹ï¼‰
- æ˜“ç”¨æ€§ï¼ˆé™ä½å­¦ä¹ æ›²çº¿ï¼‰
- å®Œæ•´æ€§ï¼ˆæä¾›ç«¯åˆ°ç«¯è§£å†³æ–¹æ¡ˆï¼‰

**ES Framework è®¾è®¡ç›®æ ‡**ï¼ˆæ¨æµ‹ï¼‰ï¼š
- é’ˆå¯¹æ€§ï¼ˆæ»¡è¶³ç‰¹å®šé¡¹ç›®éœ€æ±‚ï¼‰
- çµæ´»æ€§ï¼ˆæ˜“äºå®šåˆ¶ï¼‰
- è½»é‡çº§ï¼ˆæ— å¤–éƒ¨ä¾èµ–ï¼‰

---

## å…«ã€ç«äº‰ä¼˜åŠ¿åˆ†æ

### 8.1 ES ç›¸å¯¹å•†ä¸šæ¡†æ¶çš„ä¼˜åŠ¿

1. **æ·±åº¦é›†æˆæ€§**ï¼š
   - Module/Hosting/Link ä¸‰å¤§ç³»ç»Ÿæ— ç¼é…åˆ
   - æ— ç¬¬ä¸‰æ–¹ä¾èµ–å†²çª

2. **å®šåˆ¶çµæ´»**ï¼š
   - æºç å®Œå…¨å¯æ§
   - å¯ä»¥é’ˆå¯¹é¡¹ç›®æ·±åº¦ä¼˜åŒ–

3. **å­¦ä¹ æˆæœ¬**ï¼š
   - ä»£ç åº“è¾ƒå°ï¼ˆ~10kè¡Œ vs ETçš„50k+è¡Œï¼‰
   - æ¦‚å¿µä½“ç³»ç®€æ´

---

### 8.2 å¯ä¿æŒä¼˜åŠ¿çš„é¢†åŸŸ

1. **Module/Hosting æ¶æ„**ï¼š
   - æ¯”ä¼ ç»Ÿ MonoBehaviour æ›´æ¸…æ™°çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†
   - å¯ä»¥ä½œä¸ºç‹¬ç«‹å–ç‚¹ï¼ˆç±»ä¼¼ ECS ä½†æ›´æ˜“ç”¨ï¼‰

2. **Link æ¶ˆæ¯ç³»ç»Ÿ**ï¼š
   - ç±»å‹å®‰å…¨ + Channel æŠ½è±¡å·²è¾¾åˆ°è¡Œä¸šå…ˆè¿›æ°´å¹³
   - é…åˆå®Œå–„çš„æ–‡æ¡£å¯å¯¹æ ‡ MessagePipe

3. **ResLibrary SO æ¶æ„**ï¼š
   - Library/Book/Page å¯è§†åŒ–ä¼˜äº Addressable çš„çº¯ä»£ç ç®¡ç†
   - é€‚åˆéç¨‹åºå‘˜ä½¿ç”¨

---

## ä¹ã€å»ºè®®ç­–ç•¥

### ç­–ç•¥ Aï¼šæ‰¬é•¿é¿çŸ­ï¼ˆæ¨èï¼‰
- **æ ¸å¿ƒæˆ˜ç•¥**ï¼šä¸“æ³¨ Module/Hosting/Link/Res å››å¤§æ ¸å¿ƒï¼Œåšåˆ°æè‡´
- **å¤–éƒ¨é›†æˆ**ï¼šUIç”¨FairyGUIã€ç½‘ç»œç”¨ETã€åŠ¨ç”»ç”¨PlayableåŸç”Ÿ
- **å·®å¼‚åŒ–**ï¼šå¼ºè°ƒ"å¼€ç®±å³ç”¨çš„æ¨¡å—åŒ–æ¶æ„ + å•†ä¸šç»„ä»¶æ— ç¼é›†æˆ"

### ç­–ç•¥ Bï¼šå…¨æ ˆçªç ´ï¼ˆé«˜é£é™©ï¼‰
- **æ ¸å¿ƒæˆ˜ç•¥**ï¼šé€æ­¥è¡¥é½æ‰€æœ‰ç¼ºå¤±åŠŸèƒ½
- **æ—¶é—´çº¿**ï¼š2-3å¹´è¾¾åˆ°å•†ä¸šæ¡†æ¶æ°´å¹³
- **é£é™©**ï¼šäººåŠ›ä¸è¶³ã€æŠ€æœ¯éš¾åº¦é«˜ã€ç”Ÿæ€å»ºè®¾å›°éš¾

### ç­–ç•¥ Cï¼šå‚ç›´æ·±è€•ï¼ˆåˆ©åŸºå¸‚åœºï¼‰
- **æ ¸å¿ƒæˆ˜ç•¥**ï¼šé’ˆå¯¹ç‰¹å®šæ¸¸æˆç±»å‹ï¼ˆå¦‚Roguelikeã€å¡ç‰Œï¼‰
- **å·®å¼‚åŒ–**ï¼šæä¾›è¯¥ç±»å‹çš„å®Œæ•´æŠ€æœ¯æ ˆï¼ˆæŠ€èƒ½ç³»ç»Ÿ+æˆå°±ç³»ç»Ÿ+Modæ”¯æŒï¼‰
- **ä¼˜åŠ¿**ï¼šé¿å¼€ä¸å•†ä¸šæ¡†æ¶çš„æ­£é¢ç«äº‰

---

## åã€æ€»ç»“

**æ•´ä½“å·®è·è¯„åˆ†**ï¼šâ­â­â­ / â­â­â­â­â­

**å·®è·æ¥æº**ï¼š
- ğŸ”´ **ä¸¥é‡**ï¼šUIç¼–è¾‘å™¨ã€ç½‘ç»œå±‚ã€å¼•ç”¨è®¡æ•°
- ğŸŸ  **ä¸­ç­‰**ï¼šè™šæ‹Ÿåˆ—è¡¨ã€è¿œç¨‹æ›´æ–°ã€DrawCallä¼˜åŒ–
- ğŸŸ¡ **è½»å¾®**ï¼šåŠ¨ç”»æ··åˆã€åˆ†æå·¥å…·

**æ ¸å¿ƒå»ºè®®**ï¼š
1. **çŸ­æœŸï¼ˆ3ä¸ªæœˆï¼‰**ï¼šè¡¥é½ P0 ç¼ºå¤±ï¼ˆå¼•ç”¨è®¡æ•°ã€åŸºç¡€ç½‘ç»œï¼‰
2. **ä¸­æœŸï¼ˆ6ä¸ªæœˆï¼‰**ï¼šå¼€å‘æ ¸å¿ƒå·¥å…·ï¼ˆUIç¼–è¾‘å™¨ã€èµ„æºåˆ†æï¼‰
3. **é•¿æœŸï¼ˆ1å¹´+ï¼‰**ï¼šæˆ˜ç•¥é€‰æ‹© A/B/C ä¹‹ä¸€ï¼Œé¿å…ç›²ç›®è¿½èµ¶

**æœ€ä½³è·¯å¾„**ï¼š
- **ç­–ç•¥ A**ï¼ˆæ‰¬é•¿é¿çŸ­ï¼‰ + **ç­–ç•¥ C**ï¼ˆå‚ç›´æ·±è€•ï¼‰
- å³ï¼šä¿æŒæ ¸å¿ƒæ¶æ„ä¼˜åŠ¿ï¼Œé›†æˆå•†ä¸šç»„ä»¶ï¼Œä¸“æ³¨ç‰¹å®šæ¸¸æˆç±»å‹çš„å®Œæ•´è§£å†³æ–¹æ¡ˆ

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv2.0  
**åˆ†ææ—¥æœŸ**ï¼š2026-01-16  
**åˆ†æå›¢é˜Ÿ**ï¼šESæ¡†æ¶æˆ˜ç•¥è§„åˆ’ç»„
